<h1>Vehicles</h1>
<br>
<br>
<div class="Row">
  <div class="col-md-1 text-center"> 
      <a *ngIf="isInRole('Manager') || isInRole('Admin')" [routerLink]="['/addVehicle']"><button class="btn btn-success" >Add Vehicle</button></a>
  </div>
</div>
<br>
<br>
<br>
<select class="col-md-1 text-center" (change)="selectOptions($event)">
    <option value="Filter" selected>Filter</option>
    <option value="Search">Search</option>
</select>

<div *ngIf="options=='Filter'">
        <textarea [ngModel]="data" (ngModelChange)="doSomething($event)"></textarea>
        <select class="col-md-1 text-center" (change)="selectChangeHandler($event)">
            <option value="Model" selected>Model</option>
            <option value="Price">Price</option>
        </select>
        
        <table class="table table-striped table-dark" *ngIf="search==''">
                <tbody *ngFor = "let item of vehicles">
                    <tr *ngIf="item.Unavailable == false">
                        <td>Model: {{item.Model}}</td>
                        <td>Manufactor: {{item.Manufactor}}</td>
                        <td>Year: {{item.Year}}</td>
                        <td>Description: {{item.Description}}</td>
                        <td>Price per hour: {{item.PricePerHour}}</td>
                        <td><button *ngIf="isInRole('Manager') || isInRole('Admin')" (click)="UnavailableVehicle(item.Id)" type="button" class="btn btn-warning">Set Vehicle Unavailable</button></td>
                        <td><button *ngIf="isInRole('Manager') || isInRole('Admin')" (click)="deleteVehicle(item.Id)" type="button" class="btn btn-danger">Delete Vehicle</button></td>
                    </tr>
                </tbody>
            </table>
            
            <table class="table table-striped table-dark" *ngIf="search!=''">
                <tbody *ngFor = "let item of vehiclesSearch">
                    <tr *ngIf="item.Unavailable == false">
                        <td>Model: {{item.Model}}</td>
                        <td>Manufactor: {{item.Manufactor}}</td>
                        <td>Year: {{item.Year}}</td>
                        <td>Description: {{item.Description}}</td>
                        <td>Price per hour: {{item.PricePerHour}}</td>
                        <td><button *ngIf="isInRole('Manager') || isInRole('Admin')" (click)="UnavailableVehicle(item.Id)" type="button" class="btn btn-warning">Set Vehicle Unavailable</button></td>
                        <td><button *ngIf="isInRole('Manager') || isInRole('Admin')" (click)="deleteVehicle(item.Id)" type="button" class="btn btn-danger">Delete Vehicle</button></td>
                    </tr>
                </tbody>
            </table>
            <br>
            <br>
</div>

<div *ngIf="options=='Search'">
        <textarea [ngModel]="data" (ngModelChange)="doSomething2($event)"></textarea>
        <select class="col-md-1 text-center" (change)="selectSearch($event)">
                <option value="Model" selected>Model</option>
                <option value="Price">Price</option>
        </select>
        <button (click)="SearchVehicle()" type="button" class="btn btn-primary">Search</button>
            
            <table class="table table-striped table-dark">
                <tbody *ngFor = "let item of vehiclesSearch">
                    <tr *ngIf="item.Unavailable == false">
                        <td>Model: {{item.Model}}</td>
                        <td>Manufactor: {{item.Manufactor}}</td>
                        <td>Year: {{item.Year}}</td>
                        <td>Description: {{item.Description}}</td>
                        <td>Price per hour: {{item.PricePerHour}}</td>
                        <td><button *ngIf="isInRole('Manager') || isInRole('Admin')" (click)="UnavailableVehicle(item.Id)" type="button" class="btn btn-warning">Set Vehicle Unavailable</button></td>
                        <td><button *ngIf="isInRole('Manager') || isInRole('Admin')" (click)="deleteVehicle(item.Id)" type="button" class="btn btn-danger">Delete Vehicle</button></td>
                    </tr>
                </tbody>
            </table>
            <br>
            <br>
</div>




<br>
<br>
<h1 *ngIf="(isInRole('Manager') || isInRole('Admin'))">Unavailable Vehicles</h1>
<br>
<br>
<table class="table table-striped table-dark" >
    <tbody *ngFor = "let item of vehicles">
            <tr *ngIf="(isInRole('Manager') || isInRole('Admin')) && item.Unavailable == true">
                <td>Model: {{item.Model}}</td>
                <td>Manufactor: {{item.Manufactor}}</td>
                <td>Year: {{item.Year}}</td>
                <td>Description: {{item.Description}}</td>
                <td>Price per hour: {{item.PricePerHour}}</td>
                <td><button *ngIf="isInRole('Manager') || isInRole('Admin')" (click)="UnavailableVehicle(item.Id)" type="button" class="btn btn-warning">Set Vehicle Available</button></td>
                <td><button *ngIf="isInRole('Manager') || isInRole('Admin')" (click)="deleteVehicle(item.Id)" type="button" class="btn btn-danger">Delete Vehicle</button></td>
            </tr>
    </tbody>
</table>